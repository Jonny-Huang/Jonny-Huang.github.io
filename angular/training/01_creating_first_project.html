<hr>
<p>title: 建立 Angular 專案<br>date: 2017-08-27<br>categories: Training<br>keywords:</p>
<ul>
<li>Angular<br>tags:</li>
<li>Angular</li>
</ul>
<hr>
<h2 id="建立專案"><a href="#建立專案" class="headerlink" title="建立專案"></a>建立專案</h2><p>透過 Angular-CLI 指令 <code>ng new [name]</code> 來建立新專案，例如建立一個<strong>first-app</strong>專案，透過<br><code>ng new first-app --routing --style scss</code>  </p>
<blockquote>
<p>筆者使用 <a href="http://cmder.net/">cmder</a> 替代<strong>命令提示字元</strong>，指令會在獨立的一行，會比較容易觀看。  </p>
</blockquote>
<p><img src="/images/angular/training/first_app/angular_first_app_01.png" alt="img"><br><code>--routing</code>：參數表示同步建立路由模組，後續再另行說明。<br><code>--style scss</code>：預設樣式是採用css格式，此處改為scss。  </p>
<blockquote>
<p>我們可以透過 <code>ng --help</code> 指令查詢 Angular-CLI 提供的功能及相關參數。<br><code>ng new [name]</code> 相關參數也可參考 <a href="https://github.com/angular/angular-cli/blob/master/docs/documentation/new.md">GitHub</a>。  </p>
</blockquote>
<!-- more -->  

<h2 id="開啟專案"><a href="#開啟專案" class="headerlink" title="開啟專案"></a>開啟專案</h2><p>專案建立好後，可切換至專案目錄下，再透過 <code>code .</code> 使用 VS Code 開始專案。  </p>
<blockquote>
<p><code>.</code> ：表示當前目錄</p>
</blockquote>
<p><img src="/images/angular/training/first_app/angular_first_app_02.png" alt="img"><br>或者透過檔案總管的功能選單開啟<br><img src="/images/angular/training/first_app/angular_first_app_03.png" alt="img"><br>透過 VS Code 可以發現 CLI 自動幫我們建立好整了開發過程所需要用到的檔案。<br><img src="/images/angular/training/first_app/angular_first_app_04.png" alt="img">  </p>
<h3 id="node-modules"><a href="#node-modules" class="headerlink" title="node_modules"></a>node_modules</h3><p>資料夾內存放專案會用到的node package，詳細 package 可以開啟 <strong>package.json</strong> 檔來查看。  </p>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><p>scripts 表示客製化的參數與對應的指令，可以透過 <code>npm run [parameter]</code> 來執行，例如：<code>npm run start</code><br><img src="/images/angular/training/first_app/angular_first_app_05.png" alt="img"><br>dependencies 表示執行環境所需的 package。<br><img src="/images/angular/training/first_app/angular_first_app_06.png" alt="img">  </p>
<blockquote>
<p>package 可能會隨功能強化或是bug修正而發布新版本，尤其是 Angular 有這大量的開發人員，因此更新速度特別快，但是新版本與舊有版本是否相容就有待查證，因此若要使用新版本，建議在剛建立完專案時就先升級，既有專案若要升級，建議做好版控或是備份。</p>
</blockquote>
<p>升級示範：<br>透過<strong>命令提示字元</strong>使用 <code>npm i [package name]</code> 重新安裝 package。</p>
<blockquote>
<p>VS Code 內也可以直些透過 <code>Ctrl + `(反引號)</code> 來開啟及關閉<strong>命令提示字元</strong>。<br><img src="/images/angular/training/first_app/angular_first_app_07.png" alt="img"></p>
</blockquote>
<p><code>npm i @angular/animations @angular/common @angular/compiler @angular/core @angular/forms @angular/http @angular/platform-browser @angular/platform-browser-dynamic @angular/router core-js rxjs zone.js</code><br><img src="/images/angular/training/first_app/angular_first_app_08.png" alt="img">  </p>
<blockquote>
<p><code>i</code> ：install 縮寫 ，表示安裝指令。<br><code>-save</code>、<code>-s</code> ：npm 5.x 以後預設package就會標示在dependencies，可以省略。<br><code>-save-dev</code>、<code>-d</code> ：所安裝的package就會標示在devDependencies。<br>因為正常開發時會使引用其他package，筆者習慣將 Angular 用到的 package 的安裝指令儲存到記事本，後續可以直接複製貼上。</p>
</blockquote>
<p>可以發現 Angular 由4.2.4版升級至4.3.6版。<br><img src="/images/angular/training/first_app/angular_first_app_09.png" alt="img"><br>devDependencies 表示開發環境所需的 package。<br><img src="/images/angular/training/first_app/angular_first_app_10.png" alt="img"><br>同理透過指令升級<br><code>npm i @angular/animations @angular/common @angular/compiler @angular/core @angular/forms @angular/http @angular/platform-browser @angular/platform-browser-dynamic @angular/router core-js rxjs zone.js</code><br><img src="/images/angular/training/first_app/angular_first_app_11.png" alt="img"><br><img src="/images/angular/training/first_app/angular_first_app_12.png" alt="img">  </p>
<h3 id="angular-cli-json"><a href="#angular-cli-json" class="headerlink" title=".angular-cli.json"></a>.angular-cli.json</h3><p><strong>.angular-cli.json</strong> 為 Angular-CLI 的設定檔，例如建置專案時所帶的 <code>--style scss</code> 參數，也可以透過修改 styleExt 值方式手動變更。<br><img src="/images/angular/training/first_app/angular_first_app_13.png" alt="img">  </p>
<h3 id="src"><a href="#src" class="headerlink" title="src"></a>src</h3><p>src 為專案程式碼根目錄。</p>
<blockquote>
<p>可以透過 <strong>.angular-cli.json</strong> 修改路徑，但是不建議。<br><img src="/images/angular/training/first_app/angular_first_app_20.png" alt="img"></p>
</blockquote>
<h3 id="README-md"><a href="#README-md" class="headerlink" title="README.md"></a>README.md</h3><p>說明檔已經內附基本操作，如：  </p>
<h4 id="Development-server"><a href="#Development-server" class="headerlink" title="Development server"></a>Development server</h4><p>透過 <code>ng serve</code> 指令可以執行開發用的測試服務器，並可透過 <a href="http://localhost:4200/">http://localhost:4200/</a> 網址來測試，並透過 <code>Ctrl + c</code> 來終止服務。<br><img src="/images/angular/training/first_app/angular_first_app_14.png" alt="img"><br><img src="/images/angular/training/first_app/angular_first_app_15.png" alt="img"><br><img src="/images/angular/training/first_app/angular_first_app_16.png" alt="img">  </p>
<h4 id="Code-scaffolding"><a href="#Code-scaffolding" class="headerlink" title="Code scaffolding"></a>Code scaffolding</h4><p>我們可以透過 <code>ng generate</code> 指令來建立開發所需的檔案，CLI 會在建立檔案同時也會包含基本的程式框架。  </p>
<h4 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h4><p>透過 <code>ng build</code> 指令 CLI 會在專案目錄下建立 dist 資料夾，並將編譯後的網站放置於此，若要將專案佈署至正式環境時，記得改用 <code>ng build -prod</code> 編譯。<br><img src="/images/angular/training/first_app/angular_first_app_17.png" alt="img"><br><img src="/images/angular/training/first_app/angular_first_app_18.png" alt="img"><br><img src="/images/angular/training/first_app/angular_first_app_19.png" alt="img">  </p>
<blockquote>
<p>可以透過 <strong>.angular-cli.json</strong> 修改路徑。<br><img src="/images/angular/training/first_app/angular_first_app_21.png" alt="img"></p>
</blockquote>
<p>{% img /images/download.png 36 %}<a href="/uploads/first-app_2017-08-28.zip"><strong>first-app_2017-08-28.zip</strong></a>  </p>
